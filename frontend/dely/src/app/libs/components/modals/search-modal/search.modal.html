<navigation-top>
  <div toolbar class="header ion-padding">
    <button (click)="onClose()">back</button>
    <div class="searchbar" (click)="showSearchResults = true">
      <input type="text" placeholder="Zoek een product" [(ngModel)]="searchText">
    </div>
    <button *ngIf="searchText" (click)="onStopSearch()" @opacityAnim>x</button>
  </div>
</navigation-top>

<div class="container">

  <div class="modal first ion-padding" [@hideTopPart]="showCategoryModal">
    <search-ingredient-list (product)="onCategoryClick($event)" [data]="categoriesNameAndIcon$ | async"></search-ingredient-list>
  </div>

  <div class="modal second ion-padding" *ngIf="showCategoryModal" @slideInFromBottom>
    <ng-container *ngIf="productSubCategoriesData$ | async as subCategories" >
      <div class="sub-categories padding-rem-b--md">
        <button (click)="onSubCategoryClick('all')">
          all
        </button>
        <button *ngFor="let subCategory of subCategories" (click)="onSubCategoryClick(subCategory.name)">
          {{ subCategory.name }}
        </button>
      </div>
      <div>
        <div *ngFor="let product of products$ | async">
          {{ product.name }}
        </div>
      </div>
    </ng-container>
    <!-- https://dribbble.com/shots/15261358-Recipe-App-Concept -->
  </div>

  <div class="modal third search-results ion-padding" *ngIf="showSearchResults">


  </div>
</div>



